# 詞庫維護指南 📚

**目的**：每月審查一次詞庫，持續優化分類準確度

---

## 審查流程（每月 1 次）

### 時間
- **建議**：每月 1 號
- **預計時間**：5-10 分鐘

### 步驟

#### 1️⃣ 搜尋 5-10 個品牌，記錄結果

```
品牌: Apple
搜尋結果: 42 篇
- Critical: 2
- Strategic: 5
- Operational: 8
- Opportunities: 12
- Neutral: 15
```

#### 2️⃣ 檢查誤分的評論

例如，你看到一條被分成 **Critical** 但實際上應該是 **Operational**：

```
原文: "APP 一直卡住，很難用"
現在分類: Critical (錯)
應該分類: Operational (對)
關鍵詞: "卡住"、"很難用"
```

#### 3️⃣ 更新詞庫

編輯 `/backend/nlp/keywords_config.py`:

```python
# 如果詞在錯誤的分類中，移除它
# 如果詞不存在，加入新詞

OPERATIONAL_KEYWORDS = {
    ...
    "卡住": 1.5,  # ← 確保權重夠高
    ...
}
```

#### 4️⃣ 更新 sentiment.py

複製最新詞庫到 `sentiment.py` 中對應的位置。

#### 5️⃣ 測試 + 部署

```bash
# 本地測試
cd backend
python -m pytest

# 部署
git push origin main
```

#### 6️⃣ 更新審查紀錄

在本文件末尾記錄：

```
【2026-04-01 審查紀錄】
- 加入詞: 爆單、卡頓、沒貨
- 移除詞: 無
- 調整權重: "等超久" 1.5→2
- 誤分率: 8% → 5%
```

---

## 常見誤分模式

### ❌ 容易誤分的詞

| 詞彙 | 常被分為 | 應該分為 | 原因 |
|------|---------|---------|------|
| "爆單" | Critical | Opportunities | 表達缺貨，但是好事 |
| "卡住" | Critical | Operational | 是使用痛點，非品牌形象問題 |
| "看不懂" | Neutral | Operational | 是資訊落差問題 |
| "變貴了" | Critical | Strategic | 是價格敏感，非品質問題 |

### ✅ 修正方法

**增加權重**：
```python
OPERATIONAL_KEYWORDS = {
    "卡住": 1.5,  # 增加權重，優先度更高
}
```

**移除誤導詞**：
```python
# 刪除或註解這行
# CRITICAL_KEYWORDS["等超久"] = 1.5  # 這詞應該是 Strategic
```

---

## 審查歷史

### 2026-03-01 v1.0 (初始版本)
**作者**: Sylvia Ho
**詞彙數**: 40+
**分類準確度**: ~85%
**下次審查**: 2026-04-01

---

## 提示

- 📌 **權重越高 = 優先級越高**
- 🎯 **每次最多改 5-10 個詞**（避免過度調整）
- 📊 **記錄誤分率變化**（持續改進的證據）
- 🔄 **3 個月後評估整體準確度**
